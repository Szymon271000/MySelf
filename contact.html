<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Contact</title>
</head>
<body class="contactBody">
    <header>
        <div class="container">
            <label class="logo">MYSELF</label>
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="hobby.html">Hobbies</a></li>
                <li><a href="love.html">Love</a></li>
                <li><a href="projects.html">Projects</a></li>
                <li><a href="trips.html">Trips</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </nav>
        </div>
    </header>
    <div class="contactInputcontainer">   
        <form class="contactForm" onsubmit="init()">
            <ul class="flex-outer">
                <li>
                    <label for="name">Name</label>
                    <input id="name" name="name" placeholder="Enter your name">
                    <p id="nameError" class="text-danger"></p>
                </li>
                <li>
                    <label for="email">Email</label>
                    <input id="email" name="email" placeholder="Give your email"/>
                    <p id="emailError" class="text-danger"></p>
                </li>
                <li>
                    <label for="comment">Comment</label>
                    <textarea id="comment" name="comment"></textarea>
                    <p id="commentError" class="text-danger"></p>
                </li>
                <li>
                    <button id="formBtn" type="submit" disabled>Submit</button>
                </li>
            </ul>
        </form> 
    </div>
            <!-- <form class="contactForm" onsubmit="init()">
                <div class="itemInput">
                    <label for="name">Name</label>
                    <input id="name" name="name" placeholder="Enter your name">
                    <div id="nameError" class="text-danger"></div>
                </div>
                <div class="itemInput">
                    <label for="email">Email</label>
                    <input id="email" name="email" placeholder="Give your email"/>
                    <div id="emailError" class="text-danger"></div>
                </div>
                <div class="itemInput">
                    <label for="comment">Comment</label>
                    <textarea id="comment" name="comment"></textarea>
                    <div id="commentError" class="text-danger"></div>
                </div>
                <button id="formBtn" type="submit" disabled>Submit</button>
            </form> -->
        
</body>
</html>

<script>
    function init()
    {
        let inputNames = ["name", "email", "comment"]
        inputNames.forEach(x => document.getElementById(x).addEventListener("input", validate));
    }

    function validateFields(fieldId, errorId, fieldName, fieldLen, regex)
    {
        let errorElement = document.getElementById(errorId);
        errorElement.innerHTML = "";

        let name = document.getElementById(fieldId).value;
        let status = true;
        if(name == null || name == "")
        {
            errorElement.innerHTML = fieldName + " is required";
            status = false;
        }
        else if(name.length > fieldLen)
        {
            errorElement.innerHTML = fieldName + " is too long";
            status = false;
        }
        else if(!regex.test(name))
        {
            errorElement.innerHTML = fieldName + " has invalid format";
            status = false;
        }
        return status;
    }

    function validate()
    {
        var correctName = validateFields("name", "nameError", "Name", 20,  /^[A-Z][a-z]+(\s[A-Z][a-z]+)*$/);
        var correctEmail = validateFields("email", "emailError", "Email", 100,  /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/);
        var correctComment = validateFields("comment", "commentError", "Comment", 100, /^[A-Za-z0-9 -]*$/);
        if(correctEmail && correctName)
        {
            document.getElementById("formBtn").disabled = false;
        }
        else
        {
            document.getElementById("formBtn").disabled = true;
        }
    }
    init();
</script>